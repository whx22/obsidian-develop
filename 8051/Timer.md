---
aliases:
  - 定时器
tags:
  - 定时器
  - 51单片机
  - c
summary: 
create time: 2023-12-05T20:38:00
modify time:
---
## Introduction

CPU执行Delay函数时，CPU被阻塞，无法进行其他任务。

### location

51单片机的定时器属于单片机的内部资源，其电路的连接和运转均在单片机内部完成。

### feature

1. 用于计时系统，可实现软件计时，或者使程序间隔一个固定时间完成一项操作
2. 替代长时间的Delay，提高CPU的运行效率和处理速度
3. 多进程操作系统，时间片轮转
4. ...

### STC89C52定时器资源

定时器个数：3（T0、T1、T2），T0、T1兼容传统的C51单片机，T2是此型号增加的资源

## 定时器/计数器工作模式(与传统8051单片机兼容)

STC98C52的T0和T1的四种工作模式：

1. 模式0(13位定时器/计数器)
2. 模式1(16位定时器/计数器)（常用）
3. 模式2(8位自动重装模式)
4. 模式3(两个8位计数器)

### 模式1(16位定时器/计数器)

![[Pasted image 20231208161047.png]]

#### 脉冲信号产生来源

1. （T：timer）SYSclk(system clock)：系统时钟，即晶振周期，本开发板的晶振为12MHz。本开发板默认对系统时钟进行12T分频，分频后为1MHz，晶振周期为1us
2. （C：counter）T0 Pin：外部引脚

### 中断系统

[[Interrupt System]]

## 定时器/计数器0和1的相关寄存器

![[Pasted image 20231208164751.png]]

### TCON：定时器/计数器控制寄存器

### TMOD：定时器/计数器工作模式寄存器

### TL0、TL1、TH0、TL1：存储定时器/计数器内容


![[Interrupt System#^interrupt-register]]

